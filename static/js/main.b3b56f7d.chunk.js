(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{127:function(e,t,a){e.exports=a.p+"static/media/loading-arrow.e9ea7394.gif"},134:function(e,t,a){e.exports=a.p+"static/media/logo.9f0cccc1.svg"},137:function(e,t,a){e.exports=a(307)},142:function(e,t,a){},143:function(e,t,a){},21:function(e,t,a){e.exports=a.p+"static/media/room-1.e928a5c4.jpeg"},307:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(121),l=a.n(c);a(142),a(143);function o(e){var t=e.children,a=e.hero;return r.a.createElement("header",{className:a},t)}function i(e){var t=e.children,a=e.title,n=e.subtitle;return r.a.createElement("div",{className:"banner"},r.a.createElement("h1",null,a),r.a.createElement("div",null),r.a.createElement("p",null,n),t)}o.defaultProps={hero:"defaultHero"};var m=a(3),s=a(136);function u(e){var t=e.title;return r.a.createElement("div",{className:"section-title"},r.a.createElement("h4",null,t),r.a.createElement("div",null))}var p=a(17);function E(){var e=Object(n.useState)([{icon:r.a.createElement(p.c,null),title:"Free cocktails",info:"Lorem ipsum is placeholder text commonly used in the graphic, print, and publishing industries."},{icon:r.a.createElement(p.d,null),title:"Endless Hiking",info:"Lorem ipsum is placeholder text commonly used in the graphic, print, and publishing industries ."},{icon:r.a.createElement(p.e,null),title:"Free shuttle",info:"Lorem ipsum is placeholder text commonly used in the graphic, print, and publishing industries ."},{icon:r.a.createElement(p.b,null),title:"Strongest Beer",info:"Lorem ipsum is placeholder text commonly used in the graphic, print, and publishing industries ."}]),t=Object(s.a)(e,1)[0];return r.a.createElement("section",{className:"services"},r.a.createElement(u,{title:"Services"}),r.a.createElement("div",{className:"services-center"},t.map((function(e,t){return r.a.createElement("article",{key:t,className:"service"},r.a.createElement("span",null,e.icon),r.a.createElement("h6",null,e.title),r.a.createElement("p",null,e.info))}))))}var d=a(10),f=a(11),h=a(12),v=a(13),g=a(72),b=a(43),y=a(73),O=a.n(y),N=a(14),k=a(122),x=a(135),j=Object(x.a)({space:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_API_SPACE,accessToken:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_ACCES_TOKEN}),S=r.a.createContext(),C=function(e){Object(v.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={rooms:[],sortedRooms:[],featuredRooms:[],loading:!0,type:"all",capacity:1,price:0,minPrice:0,maxPrice:0,minSize:0,maxSize:0,breakfast:!1,pets:!1},e.getData=Object(k.a)(O.a.mark((function t(){var a,n,r,c,l;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,j.getEntries({content_type:"beachResortRoom",order:"fields.price"});case 3:a=t.sent,n=e.formatData(a.items),r=n.filter((function(e){return!0===e.featured})),c=Math.max.apply(Math,Object(N.a)(n.map((function(e){return e.price})))),l=Math.max.apply(Math,Object(N.a)(n.map((function(e){return e.size})))),e.setState({rooms:n,featuredRooms:r,sortedRooms:n,loading:!1,price:c,maxPrice:c,maxSize:l}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),console.log(t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,11]])}))),e.getRoom=function(t){return Object(N.a)(e.state.rooms).find((function(e){return e.slug===t}))},e.handleChange=function(t){var a=t.target,n="checkbox"===a.type?a.checked:a.value,r=t.target.name;e.setState(Object(b.a)({},r,n),e.filterRooms)},e.filterRooms=function(){var t=e.state,a=t.rooms,n=t.type,r=t.capacity,c=t.price,l=t.minSize,o=t.maxSize,i=t.breakfast,m=t.pets,s=Object(N.a)(a);r=parseInt(r),c=parseInt(c),"all"!==n&&(s=s.filter((function(e){return e.type===n}))),1!==r&&(s=s.filter((function(e){return e.capacity>=r}))),s=(s=s.filter((function(e){return e.price<=c}))).filter((function(e){return e.size>=l&&e.size<=o})),i&&(s=s.filter((function(e){return!0===e.breakfast}))),m&&(s=s.filter((function(e){return!0===e.pets}))),e.setState({sortedRooms:s})},e}return Object(f.a)(a,[{key:"componentDidMount",value:function(){this.getData()}},{key:"formatData",value:function(e){return e.map((function(e){var t=e.sys.id,a=e.fields.images.map((function(e){return e.fields.file.url}));return Object(g.a)({},e.fields,{images:a,id:t})}))}},{key:"render",value:function(){return r.a.createElement(S.Provider,{value:Object(g.a)({},this.state,{getRoom:this.getRoom,handleChange:this.handleChange})},this.props.children)}}]),a}(n.Component),R=S.Consumer,_=a(127),T=a.n(_),z=function(e){Object(v.a)(a,e);var t=Object(h.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(f.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"loading"},r.a.createElement("h4",null,"rooms data loading..."),r.a.createElement("img",{src:T.a,alt:""}))}}]),a}(n.Component),P=a(21),w=a.n(P);function F(e){var t=e.room,a=t.name,n=t.slug,c=t.images,l=t.price;return r.a.createElement("article",{className:"room"},r.a.createElement("div",{className:"img-container"},r.a.createElement("img",{src:c[0]||w.a,alt:"single room"}),r.a.createElement("div",{className:"price-top"},r.a.createElement("h6",null,l),r.a.createElement("p",null,"per night")),r.a.createElement("div",null,r.a.createElement(m.b,{to:"/rooms/".concat(n),className:"btn-primary room-link"},"Features")),r.a.createElement("p",{className:"room-info"},a)))}var D=function(e){Object(v.a)(a,e);var t=Object(h.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(f.a)(a,[{key:"render",value:function(){var e=this.context,t=e.loading,a=e.featuredRooms;return a=a.map((function(e){return r.a.createElement(F,{key:e.id,room:e})})),r.a.createElement("section",{className:"featured-rooms"},r.a.createElement(u,{title:"featured rooms"}),r.a.createElement("div",{className:"featured-rooms-center"},t?r.a.createElement(z,null):a))}}]),a}(n.Component);function A(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(o,null,r.a.createElement(i,{title:"luxurious rooms",subtitle:"deluxe rooms starting at $300"},r.a.createElement(m.b,{to:"/rooms",className:"btn-primary"},"our rooms"))),r.a.createElement(E,null),r.a.createElement(D,null))}D.contextType=S;var H=function(e,t){return Object(N.a)(new Set(e.map((function(e){return e[t]}))))};function B(){var e=Object(n.useContext)(S),t=e.handleChange,a=e.type,c=e.capacity,l=e.price,o=e.minPrice,i=e.maxPrice,m=e.minSize,s=e.maxSize,p=e.breakfast,E=e.pets,d=H(e.rooms,"type");d=(d=["all"].concat(Object(N.a)(d))).map((function(e,t){return r.a.createElement("option",{value:e,key:t},e)}));var f=H(e.rooms,"capacity");return f=f.map((function(e,t){return r.a.createElement("option",{value:e,key:t},e)})),r.a.createElement("section",{className:"filter-container"},r.a.createElement(u,{title:"search rooms"}),r.a.createElement("form",{className:"filter-form"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"type"},"room type"),r.a.createElement("select",{name:"type",id:"type",value:a,onChange:t},d)),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"capacity"},"Guests"),r.a.createElement("select",{name:"capacity",id:"capacity",value:c,onChange:t},f)),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"price"},"room price $",l),r.a.createElement("input",{type:"range",name:"price",min:o,max:i,id:"price",value:l,onChange:t,className:"form-control"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"size"},"room size"),r.a.createElement("div",{className:"size-inputs"},r.a.createElement("input",{type:"number",name:"minSize",id:"size",value:m,onChange:t,className:"size-input"}),r.a.createElement("input",{type:"number",name:"maxSize",id:"size",value:s,onChange:t,className:"size-input"}))),r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"single-extra"},r.a.createElement("input",{type:"checkbox",name:"breakfast",id:"breakfast",checked:p,onChange:t}),r.a.createElement("label",{htmlFor:"breakfast"},"breakfast")),r.a.createElement("div",{className:"single-extra"},r.a.createElement("input",{type:"checkbox",name:"pets",id:"pets",checked:E,onChange:t}),r.a.createElement("label",{htmlFor:"pets"},"pets")))))}function L(e){var t=e.rooms;return 0===t.length?r.a.createElement("div",{className:"empty search"},r.a.createElement("h3",null,"unfortunately no rooms matched your search parameters")):r.a.createElement("section",{className:"roomslist"},r.a.createElement("div",{className:"roomslist-center"},t.map((function(e){return r.a.createElement(F,{key:e.id,room:e})}))))}function W(){return r.a.createElement(R,null,(function(e){var t=e.loading,a=e.sortedRooms,n=e.rooms;return t?r.a.createElement(z,null):r.a.createElement("div",null,r.a.createElement(B,{rooms:n}),r.a.createElement(L,{rooms:a}))}))}var K=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(o,{hero:"roomsHero"},r.a.createElement(i,{title:"our rooms"},r.a.createElement(m.b,{to:"/Hotel",className:"btn-primary"},"return home"))),r.a.createElement(W,null))},I=a(128),M=a(129);function $(){var e=Object(M.a)(["\n  min-height: 66vh;\n  background: url(",") center/cover no-repeat;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n"]);return $=function(){return e},e}var U=a(130).a.header($(),(function(e){return e.img?e.img:w.a})),J=function(e){Object(v.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).state={slug:n.props.match.params.slug,defaultBcg:w.a},n}return Object(f.a)(a,[{key:"render",value:function(){var e=(0,this.context.getRoom)(this.state.slug);if(!e)return r.a.createElement("div",{className:"error"},r.a.createElement("h3",null,"no such room could be found..."),r.a.createElement(m.b,{to:"/rooms",className:"btn-primary"},"back to rooms"));var t=e.name,a=e.description,n=e.capacity,c=e.size,l=e.price,o=e.extras,s=e.breakfast,u=e.pets,p=e.images,E=Object(I.a)(p),d=E[0],f=E.slice(1);return r.a.createElement(r.a.Fragment,null,r.a.createElement(U,{img:d||this.state.defaultBcg},r.a.createElement(i,{title:"".concat(t," room")},r.a.createElement(m.b,{to:"/rooms",className:"btn-primary"},"back to rooms"))),r.a.createElement("section",{className:"single-room"},r.a.createElement("div",{className:"single-room-images"},f.map((function(e,a){return r.a.createElement("img",{key:a,src:e,alt:t})}))),r.a.createElement("div",{className:"single-room-info"},r.a.createElement("article",{className:"desc"},r.a.createElement("h3",null,"details"),r.a.createElement("p",null,a)),r.a.createElement("article",{className:"info"},r.a.createElement("h3",null,"info"),r.a.createElement("h6",null,"price : $",l),r.a.createElement("h6",null,"price : $",c," SQFT"),r.a.createElement("h6",null,"max capacity : "," ","".concat(n,n>1?" people":" person")),r.a.createElement("h6",null,u?"pets allowed":"no pets allowed"),r.a.createElement("h6",null,s&&"free breakfast included")))),r.a.createElement("section",{className:"room-extras"},r.a.createElement("h6",null,"extras"),r.a.createElement("ul",{className:"extras"},o.map((function(e,t){return r.a.createElement("li",{key:t},"- ",e)})))))}}]),a}(n.Component);function V(){return r.a.createElement(o,null,r.a.createElement(i,{title:"404",subtitle:"page not found"},r.a.createElement(m.b,{to:"/",className:"btn-primary"},"return home")))}J.contextType=S;var G=a(2),Q=a(134),q=a.n(Q),X=function(e){Object(v.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={isOpen:!1},e.handleToggle=function(){e.setState({isOpen:!e.state.isOpen})},e}return Object(f.a)(a,[{key:"render",value:function(){return r.a.createElement("nav",{className:"navbar"},r.a.createElement("div",{className:"nav-center"},r.a.createElement("div",{className:"nav-header"},r.a.createElement(m.b,{to:"/"},r.a.createElement("img",{src:q.a,alt:"Beach Resort"})),r.a.createElement("button",{type:"button",className:"nav-btn",onClick:this.handleToggle},r.a.createElement(p.a,{className:"nav-icon"}))),r.a.createElement("ul",{className:this.state.isOpen?"nav-links show-nav":"nav-links"},r.a.createElement("li",null,r.a.createElement(m.b,{to:"/"},"Home")),r.a.createElement("li",null,r.a.createElement(m.b,{to:"/rooms"},"Rooms")))))}}]),a}(n.Component);var Y=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(X,null),r.a.createElement(G.c,null,r.a.createElement(G.a,{exact:!0,path:"/",component:A}),r.a.createElement(G.a,{exact:!0,path:"/rooms",component:K}),r.a.createElement(G.a,{exact:!0,path:"/rooms/:slug",component:J}),r.a.createElement(G.a,{component:V})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(C,null,r.a.createElement(m.a,null,r.a.createElement(Y,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},74:function(e,t){}},[[137,1,2]]]);
//# sourceMappingURL=main.b3b56f7d.chunk.js.map